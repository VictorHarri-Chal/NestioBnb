<div class="mt-10 lg:mt-0">
  <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 shadow-sm sticky top-4 z-10">
    <h3 class="text-xl font-semibold text-gray-900 mb-6">Book</h3>

    <div class="mb-6">
      <h3 class="text-lg font-medium text-gray-900 mb-2">Prix</h3>
      <p class="text-3xl font-bold text-gray-900"><%= number_to_currency(@accommodation.price, unit: "€", separator: ",", delimiter: ".") %></p>
    </div>

    <div class="mb-6">
      <%= form_with url: new_accommodation_reservation_path(@accommodation), method: :get do |f| %>
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <%= f.label :start_date, "Date d'arrivée", class: "block text-sm font-medium text-gray-700" %>
              <%= f.date_field :start_date, id: "start_date", value: params[:start_date] || Date.today + 7, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 bg-white px-3 py-2" %>
            </div>
            <div>
              <%= f.label :end_date, "Date de départ", class: "block text-sm font-medium text-gray-700" %>
              <%= f.date_field :end_date, id: "end_date", value: params[:end_date] || Date.today + 14, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 bg-white px-3 py-2" %>
            </div>
          </div>

          <div>
            <%= f.label :guests, "Nombre de voyageurs", class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1 relative rounded-md shadow-sm">
              <%= f.number_field :guests, id: "guests", min: 1, value: 1, class: "block w-full rounded-md border-gray-300 pl-10 pr-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 bg-white" %>
              <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                </svg>
              </div>
            </div>
          </div>

          <%= f.submit "Book", class: "mt-6 w-full flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 transition-colors duration-200 hover:cursor-pointer" %>
        </div>
      <% end %>
    </div>

    <div class="space-y-4">
      <%= render "favorite_button" %>
    </div>
  </div>
</div>
