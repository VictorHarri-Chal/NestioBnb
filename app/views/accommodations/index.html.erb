<div class="min-h-screen">
  <div class="grid grid-cols-7 gap-4">
    <%= turbo_frame_tag "accommodations_list", class: "col-span-4" do %>
      <div class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 lg:gap-x-8">
        <% @accommodations.each do |accommodation| %>
          <%= turbo_frame_tag "accommodation_card_#{accommodation.id}",
                                src: card_accommodation_path(accommodation),
                                loading: "lazy" do %>
            <div class="h-64 bg-gray-200 rounded-lg animate-pulse"></div>
          <% end %>
        <% end %>
      </div>

      <div class="mt-8 flex justify-center">
        <%= render "shared/pagination", pagy: @pagy %>
      </div>
    <% end %>

    <div class="col-span-3 w-128">
      <div class="sticky top-0 h-screen rounded-lg">
        <%= render "shared/map", markers: @markers, css_class: "h-full w-full rounded-lg" %>
      </div>
    </div>
  </div>
</div>
