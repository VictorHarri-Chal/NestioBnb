<div data-controller="modal-chat-ai">
<button class="ml-4 px-4 flex items-center justify-center rounded-full bg-indigo-600 p-2 text-white hover:bg-indigo-500" data-action="click->modal-chat-ai#toggle" aria-label="Open AI Chat">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 mr-1">
<path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09Z" />
</svg>
  <span class="font-medium text-sm">Nestio AI</span>
</button>
  <div
    data-modal-chat-ai-target="modal"
    class="hidden fixed bottom-4 right-4 z-10 w-screen max-w-xl"
    aria-labelledby="modal-title"
    role="dialog"
    aria-modal="true"
  >
    <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-0 sm:w-full sm:max-w-xl">
      <div class="flex items-center justify-between border-b border-gray-200 bg-gray-50 p-4">
        <h3 class="text-base font-semibold text-gray-900" id="modal-title">Nestio AI</h3>
        <button
          type="button"
          class="text-gray-400 hover:text-gray-600"
          data-action="click->modal-chat-ai#toggle"
          aria-label="Close chat"
        >
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <div class="h-96 overflow-y-auto p-4" id="questions">
        <%= render @questions %>
      </div>

      <div class="border-t border-gray-200 p-4">
        <div class="flex items-center space-x-2 w-full">
            <%= render "questions/form", question: @question %>
        </div>
      </div>
    </div>
  </div>
</div>
